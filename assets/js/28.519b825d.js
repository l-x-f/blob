(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{226:function(t,_,n){"use strict";n.r(_);var s=n(0),e=Object(s.a)({},function(){var t=this,_=t.$createElement,n=t._self._c||_;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("一、背景：升级老项目遇到的问题")]),t._v(" "),n("p",[t._v("1.项目目录")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20181031161532203.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTUzNTM3,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[t._v("2.package.json")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20181031161602628.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTUzNTM3,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[t._v("3.env 配置")]),t._v(" "),n("p",[t._v(".env.development 配置")]),t._v(" "),n("p",[t._v("NODE_ENV=development\nVUE_APP_BASE_API=开发\nVUE_APP_BUCKET=开发\n.env.production 配置\nNODE_ENV=production\nVUE_APP_BASE_API=生产\nVUE_APP_BUCKET=生产 4.执行 npm run build:dev\n打包后，发现 app.js 有十几兆，上传到服务器，根本无法打开（时间太久）")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20181031161911187.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTUzNTM3,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[t._v("二、解决方式（暂时能解决的，有可能还有更好的办法）")]),t._v(" "),n("p",[t._v("1.在根目录下新建.env.dev 文件")]),t._v(" "),n("p",[t._v("配置如下（内容和.env.development 文件一致，NODE_ENV 改为 production）\nNODE_ENV=production\nVUE_APP_BASE_API=开发\nVUE_APP_BUCKET=开发 2.修改 package.json"),n("br"),t._v(" "),n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20181031162821665.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTUzNTM3,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[t._v("3.执行 npm run build:dev")]),t._v(" "),n("p",[t._v("发现分包，压缩都可以了\n"),n("img",{attrs:{src:"https://img-blog.csdnimg.cn/20181031163225141.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5OTUzNTM3,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),t._v(" "),n("p",[t._v("4.原理其实是借用 production 模式来载入开发的环境变量")])])},[],!1,null,null,null);_.default=e.exports}}]);